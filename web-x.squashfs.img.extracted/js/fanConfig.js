!function(){define(function(require,a,b){b.exports=require("jsCore/pageTab")}),define("fan_config",function(require,a,b){var c=require("jsCore/rpc"),d=require("jsCore/pageBase"),e=null,f=0,g=null;b.exports=d.extend({init:function(){e=this,e.render()},render:function(){e._getConfig(!1)},_getConfig:function(a){c.ConfigManager.getConfig("PtzFan").done(function(b){g=b,e._renderElement(),a&&e.tip("success","Operateingsuccess"),e.$("[btn-for=onConfirm]").disabled(!1)}).fail(function(){e.tip("error","Operateingfailure"),e.$("[btn-for=onConfirm]").disabled(!0)})},onTypeChange:function(a){"Manual"===e.$(a.target).val()?e.$("#fan_manual_panel").show():e.$("#fan_manual_panel").hide()},_renderElement:function(){e.$("[sel-for=onTypeChange]").val(g[f].Mode).change(),e.$("#fan_manual_input").prop("checked",g[f].Enable)},onDefault:function(){c.ConfigManager.getDefault("PtzFan").done(function(a){g=a,e._renderElement(),e.tip("success","Defaultsuccess"),e.$("[btn-for=onConfirm]").disabled(!1)}).fail(function(){e.tip("error","Defaultfailure"),e.$("[btn-for=onConfirm]").disabled(!0)})},onRefresh:function(){e._getConfig(!0)},onConfirm:function(){g[f].Mode=e.$("[sel-for=onTypeChange]").val(),g[f].Enable=e.$("#fan_manual_input").prop("checked"),c.ConfigManager.setConfig("PtzFan",g).done(function(){e.tip("success","Succeed in saving configure")}).fail(function(){e.tip("error","Saving failure")})}})})}(jQuery);